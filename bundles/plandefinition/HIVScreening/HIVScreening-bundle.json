{
  "resourceType": "Bundle",
  "id": "HIVScreening-bundle",
  "type": "transaction",
  "entry": [ {
    "resource": {
      "resourceType": "PlanDefinition",
      "id": "HIVScreening",
      "url": "http://fhir.org/guides/nachc/hiv-cds/PlanDefinition/HIVScreening",
      "identifier": [ {
        "use": "official",
        "value": "nachc-HIV-Screening"
      } ],
      "version": "1.0.0",
      "name": "HIVScreening",
      "title": "NACHC HIV Screening",
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
          "code": "eca-rule",
          "display": "ECA Rule"
        } ]
      },
      "status": "draft",
      "date": "2021-07-31T00:00:00-08:00",
      "publisher": "National Association of Community Health Centers, Inc. (NACHC)",
      "description": "This PlanDefinition defines a Clinical Decision Support rule to determine whether HIV Screening is appropriate based on CDC Recommendations for HIV Screening",
      "useContext": [ {
        "code": {
          "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
          "version": "4.0.1",
          "code": "focus",
          "display": "Clinical Focus"
        },
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://hl7.org/fhir/sid/icd-10-cm",
            "version": "2021",
            "code": "B20",
            "display": "Human immunodeficiency virus [HIV] disease"
          } ]
        }
      } ],
      "jurisdiction": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/iso3166-1-3",
          "version": "4.0.1",
          "code": "USA",
          "display": "United States of America"
        } ]
      } ],
      "purpose": "The purpose of this is to identify and build CDS support for HIV Screening.",
      "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
      "copyright": "Â© Copyright National Association of Community Health Centers, Inc. (NACHC) 2021+.",
      "topic": [ {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/definition-topic",
          "version": "4.0.1",
          "code": "assessment",
          "display": "Assessment"
        } ],
        "text": "HIV Management"
      } ],
      "library": [ "http://fhir.org/guides/nachc/hiv-cds/Library/HIVScreening" ],
      "action": [ {
        "title": "HIV Screening",
        "documentation": [ {
          "type": "documentation",
          "display": "Info for those with HIV",
          "url": "https://www.cdc.gov/hiv/guidelines/testing.html"
        } ],
        "trigger": [ {
          "type": "named-event",
          "name": "patient-view"
        } ],
        "condition": [ {
          "kind": "start",
          "expression": {
            "language": "text/cql",
            "expression": "'true'"
          }
        } ],
        "dynamicValue": [ {
          "path": "action.description",
          "expression": {
            "description": "Patient Name.",
            "language": "text/cql.identifier",
            "expression": "Patient Name"
          }
        }, {
          "path": "action.extension",
          "expression": {
            "language": "text/cql.identifier",
            "expression": "Info"
          }
        } ],
        "action": [ {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Never Tested Recommendation",
          "description": "Perform CDC Recommendation for Never Tested Treatment if conditions are met.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Never Tested screenings.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Never Tested screenings.",
              "language": "text/cql.identifier",
              "expression": "Never Tested Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Never Tested Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Never Tested Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "MSM Recommendation",
          "description": "Perform CDC Recommendation for MSM if conditions are met for either 3 month or annual testing.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "MSM Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for screening.",
              "language": "text/cql.identifier",
              "expression": "MSM Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for screening.",
              "language": "text/cql.identifier",
              "expression": "MSM Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "MSM Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "MSM Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Pregnancy Recommendation",
          "description": "Perform CDC Recommendation for Pregnancy if conditions are met for first prenatal visit or third trimester high risk testing.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Pregnancy screenings.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Pregnancy screenings.",
              "language": "text/cql.identifier",
              "expression": "Pregnant Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Pregnant Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Pregnant Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Seeking Treatment Recommendation",
          "description": "Perform CDC Recommendation for Seeking STD Treatment if conditions are met.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in msm population.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Provides Recommendation for Seeking STD Treatment screenings.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Provides Rationale for Seeking STD Treatment screenings.",
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Indicator"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Seeking STD Treatment Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "prefix": "Recommend HIV Screening Test.",
          "title": "Risk Level Recommendation",
          "description": "Determines type of recommendation based on risk level regarding status of HIV Screening.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in screening population.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Condition"
            }
          } ],
          "type": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
              "code": "create",
              "display": "Create"
            } ]
          },
          "selectionBehavior": "any",
          "definitionCanonical": "http://fhir.org/guides/nachc/hiv-cds/ActivityDefinition/activitydefinition-hiv-screening-request",
          "dynamicValue": [ {
            "path": "action.title",
            "expression": {
              "description": "Determines what recommendation patient should be provided.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Recommendation"
            }
          }, {
            "path": "action.description",
            "expression": {
              "description": "Rationale for recommendation type.",
              "language": "text/cql.identifier",
              "expression": "Risk Level Rationale"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Risk Level Indicator Status"
            }
          }, {
            "path": "asNeededBoolean",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Risk Level Condition"
            }
          } ],
          "action": [ {
            "description": "Will perform HIV screening"
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 1 month."
          }, {
            "description": "Will not perform HIV screening at this time - Snooze 12 months."
          }, {
            "description": "Will not perform HIV screening at this time - patient declined."
          } ]
        }, {
          "title": "Exclusion from HIV Screening",
          "description": "Determines if patient was excluded from HIV Screening Recommendation.",
          "condition": [ {
            "kind": "applicability",
            "expression": {
              "description": "Determine if Patient is in hiv exclusion population.",
              "language": "text/cql.identifier",
              "expression": "Meets Exclusion Criteria"
            }
          } ],
          "dynamicValue": [ {
            "path": "action.description",
            "expression": {
              "description": "Rationale for why patient was excluded from the hiv screening.",
              "language": "text/cql.identifier",
              "expression": "Exclusion Reason"
            }
          }, {
            "path": "action.extension",
            "expression": {
              "language": "text/cql.identifier",
              "expression": "Info"
            }
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "PlanDefinition/HIVScreening"
    }
  }, {
    "resource": {
      "resourceType": "Library",
      "id": "HIVScreening",
      "extension": [ {
        "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
        "valueReference": {
          "reference": "Device/cqf-tooling"
        }
      } ],
      "url": "http://fhir.org/guides/nachc/hiv-cds/Library/HIVScreening",
      "name": "HIVScreening",
      "title": "Library - HIV Screening",
      "type": {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/library-type",
          "version": "4.0.1",
          "code": "logic-library",
          "display": "Logic Library"
        } ]
      },
      "subjectCodeableConcept": {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/subject-type",
          "version": "4.0.1",
          "code": "Patient",
          "display": "Patient"
        } ]
      },
      "date": "2021-05-12T00:00:00-07:00",
      "publisher": "National Association of Community Health Centers, Inc. (NACHC)",
      "contact": [ {
        "telecom": [ {
          "system": "url",
          "value": "https://www.nachc.org/"
        } ]
      } ],
      "description": "Logic library for implementation of the CDC HIV Screening Recommendation.",
      "useContext": [ {
        "code": {
          "system": "http://hl7.org/fhir/usage-context-type",
          "version": "4.0.1",
          "code": "focus",
          "display": "Clinical Focus"
        },
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://hl7.org/fhir/sid/icd-10-cm",
            "version": "2021",
            "code": "B20",
            "display": "Human immunodeficiency virus [HIV] disease"
          } ]
        }
      } ],
      "jurisdiction": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/iso3166-1-3",
          "version": "4.0.1",
          "code": "USA",
          "display": "United States of America"
        } ]
      } ],
      "purpose": "The purpose of this is to implement a Clinical Decision Support Workflow via CDS-Hooks to establish the CDC's HIV Screening Recommendation.",
      "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
      "copyright": "Â© Copyright National Association of Community Health Centers, Inc. (NACHC) 2021+.",
      "topic": [ {
        "coding": [ {
          "system": "http://hl7.org/fhir/ValueSet/definition-topic",
          "version": "4.0.1",
          "code": "assessment",
          "display": "Assessment"
        } ],
        "text": "HIV Management"
      } ],
      "content": [ {
        "contentType": "text/cql",
        "data": "bGlicmFyeSBISVZTY3JlZW5pbmcNCg0KdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScNCg0KaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScNCmluY2x1ZGUgRkhJUkNvbW1vbiBjYWxsZWQgRkMNCg0KaW5jbHVkZSBOQUNIQ0NvbW1vbiBjYWxsZWQgTkMNCmluY2x1ZGUgSElWQ29tbW9uIGNhbGxlZCBIQw0KaW5jbHVkZSBISVZDb25jZXB0cyBjYWxsZWQgQ3gNCg0KaW5jbHVkZSBISVZEYXRhRWxlbWVudHMgY2FsbGVkIEhERQ0KDQpjb250ZXh0IFBhdGllbnQNCg0KZGVmaW5lICJJbmZvIjoNCiAgJ2luZm8nDQoNCmRlZmluZSAiV2FybmluZyI6DQogICd3YXJuaW5nJw0KDQpkZWZpbmUgIkNyaXRpY2FsIjoNCiAgJ2NyaXRpY2FsJw0KDQpkZWZpbmUgIkVycm9ycyI6DQogIG51bGwNCg0KZGVmaW5lICJQYXRpZW50IE5hbWUiOg0KICBGaXJzdChQYXRpZW50Lm5hbWUuZ2l2ZW4pDQogICArICcgJyArDQogIEZpcnN0KFBhdGllbnQubmFtZS5mYW1pbHkpDQoNCg0KLyogUmVjb21tZW5kYXRpb24gQ3JpdGVyaWEgLSBISVYgU2NyZWVuaW5nICAqLw0KZGVmaW5lICJNZWV0cyBJbmNsdXNpb24gQ3JpdGVyaWEiOg0KICJQYXRpZW50IGlzIGJldHdlZW4gMTMgYW5kIDY0IHllYXJzIG9sZCINCiBvciAiUGF0aWVudCBpcyBTZWVraW5nIFRyZWF0bWVudCBmb3IgYW4gU1REIg0KDQpkZWZpbmUgIk1lZXRzIEV4Y2x1c2lvbiBDcml0ZXJpYSI6DQogICJBY3RpdmUgRGlhZ25vc2lzIG9mIEhJViBEdXJpbmcgUGF0aWVudCBWaXNpdCIgaXMgbm90IG51bGwNCg0KZGVmaW5lICJJbiBQb3B1bGF0aW9uIjoNCiAgIk1lZXRzIEluY2x1c2lvbiBDcml0ZXJpYSINCiAgYW5kIG5vdCAiTWVldHMgRXhjbHVzaW9uIENyaXRlcmlhIg0KDQovKiBPUFRJT05TOg0KDQogICAgMS4gUmVjb21tZW5kIFNjcmVlbmluZyAzIG1vbnRocyAoSGlnaCBSaXNrIC0gQ0RDIFJpc2sgRmFjdG9ycykNCiAgICAyLiBSZWNvbW1lbmQgU2NyZWVuaW5nIEFubnVhbGx5IChNb2RlcmF0ZSBSaXNrIC0gU09HSSBSaXNrIEZhY3RvcnMpDQogICAgMy4gTm8gUmVjb21tZW5kYXRpb24gU2NyZWVuaW5nIChObyBSaXNrKSAvIExvdyBSaXNrDQogICAgNC4gUmVjb21tZW5kIFNjcmVlbmluZyBDdXN0b20gUGVyaW9kcyAoMyBtb250aHMgYmFzZWQgb24gc3BlY2lmaWMgcmlzayBmYWN0b3IgLS0gc2V4dWFsbHkgYWN0aXZlIE1TTSB3LyBwcmVwLCBldGMpDQogICAgICAvLyBNU00gLyBQcmVnbmFuY3kgLyBDREMgUmVjb21tZW5kYXRpb24NCg0KICAvLyAtIEhpZ2ggUmlzaw0KICAgIC8vIENEQyBSSVNLIEZBQ1RPUlMNCiAgICAvLyBEcnVnIEFidXNlIChEQVNULTEwKQ0KDQogIC8vIC0gTWVkaXVtIFJpc2sNCiAgICAvLyBTT0dJIEVMRU1FTlRTDQoNCiAgLy8gLSBObyBSaXNrDQogICAgLy8gRG9jdW1lbnRlZCBub3QgU2V4dWFsbHkgQWN0aXZlIChSaXNrIEZhY3RvcnMgUXVlc3Rpb25uYWlyZSBERSAxMyAvIDE0KQ0KDQogIC8vIC0gTG93IFJpc2sNCiAgICAvLyBERUZBVUxUDQoNCiAgLy8gVEVTVCBPUkRFUjoNCiAgICBOZWVkcyBBY3Rpdml0eURlZmluaXRpb24gaW4gdGhlIFBsYW5EZWZpbml0aW9uLg0KICAgIE5lZWQgdG8gYmUgYWJsZSB0byBzcGVjaWZ5IHdoYXQgdGhleSBhcmUgb3JkZXJpbmcgaW4gdGhlIGNvbmZpZ3VyYXRpb24uDQogICAgU2VydmljZVJlcXVlc3QgdXNpbmcgRGF0YSBFbGVtZW50IE9yZGVyZWQgQ29kZXMNCg0KDQogIC8vIFRPRE86DQogIFNub296ZSBPcHRpb25zIC8gT3ZlcnJpZGU6DQogICAgQWNjZXB0IC0gUGxhY2Ugb3JkZXINCiAgICBEb2N1bWVudCBUZXN0IC0gQUNUSU9OOiBRdWVzdGlvbm5haXJlIHRvIHN1cHBvcnQgZG9jdW1lbnRpbmcgdGVzdA0KICAgIFNub296ZSAtIDEgbW9udGgNCiAgICBTbm9vemUgLSAxMiBtb250aHMNCiAgICBQYXRpZW50IERlY2xpbmVkIC0gQUNUSU9OOiBEb2N1bWVudCBwYXRpZW50IHByZWZlcmVuY2UNCg0KKi8NCg0KLyoNCg0KT1JERVI6DQogIDEuIE5ldmVyIFRFU1RFRA0KICAyLiBDREMgRWRnZSBDYXNlcyAoTVNNICYgUHJlZ25hbmN5KQ0KICAzLlJpc2sgU2NvcmluZw0KICAgIGEuIEhpZ2ggUmlzaw0KICAgIGIuIE1vZGVyYXRlIFJpc2sNCiAgICBjLiBMb3cgUmlzayAvIE5vIFJpc2sNCg0KKi8NCg0KLy8gTkVWRVIgVEVTVEVEDQpkZWZpbmUgIk5ldmVyIFRlc3RlZCBDb25kaXRpb24iOg0KICAiSW4gUG9wdWxhdGlvbiINCiAgYW5kIG5vdCAiUGF0aWVudCBoYXMgaGFkIGFuIEhJViBTY3JlZW5pbmciDQoNCmRlZmluZSAiTmV2ZXIgVGVzdGVkIFJlY29tbWVuZGF0aW9uIjoNCiAgJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgbmV2ZXIgaGF2aW5nIGJlZW4gdGVzdGVkLicNCg0KZGVmaW5lICJOZXZlciBUZXN0ZWQgUmF0aW9uYWxlIjoNCiAgJ0NEQyByZWNvbW1lbmRzIHRoYXQgZGlhZ25vc3RpYyBISVYgdGVzdGluZyBhbmQgb3B0LW91dCBISVYgc2NyZWVuaW5nIGJlIGEgcGFydCBvZiByb3V0aW5lIGNsaW5pY2FsIGNhcmUgaW4gYWxsIGhlYWx0aC1jYXJlIHNldHRpbmdzIHdoaWxlIGFsc28gcHJlc2VydmluZyB0aGUgcGF0aWVudHMgb3B0aW9uIHRvIGRlY2xpbmUgSElWIHRlc3RpbmcgYW5kIGVuc3VyaW5nIGEgcHJvdmlkZXItcGF0aWVudCByZWxhdGlvbnNoaXAgY29uZHVjaXZlIHRvIG9wdGltYWwgY2xpbmljYWwgYW5kIHByZXZlbnRpdmUgY2FyZS4nDQoNCmRlZmluZSAiTmV2ZXIgVGVzdGVkIEluZGljYXRvciI6DQogICJJbmZvIg0KDQoNCi8qIENEQyBFREdFIENBU0VTICovDQovLyBNU00NCmRlZmluZSAiTVNNIENvbmRpdGlvbiI6DQogICJJbiBQb3B1bGF0aW9uIg0KICBhbmQgKA0KICAgICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEV2ZXJ5IDMgTW9udGhzIg0KICAgIG9yICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEFubnVhbGx5Ig0KICApDQoNCmRlZmluZSAiTVNNIFJlY29tbWVuZGF0aW9uIjoNCiAgaWYgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgRXZlcnkgMyBNb250aHMiIHRoZW4NCiAgICAnVGhyZWUgTW9udGggSElWIFNjcmVlbmluZyBSZWNvbW1lbmRlZCBkdWUgdG8gcGF0aWVudCBiZWluZyBhIHNleHVhbGx5IGFjdGl2ZSBNU00gd2hvIGhhcyBiZWVuIHByZXNjcmliZWQgUHJFUCBpbiB0aGUgcGFzdC4nDQogIGVsc2UgaWYgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgQW5udWFsbHkiIHRoZW4NCiAgICAnQW5udWFsIEhJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYSBzZXh1YWxseSBhY3RpdmUgTVNNIHdpdGhvdXQgSElWIGFuZCBoYXMgaGFkIG11bHRpcGxlIHNleCBwYXJ0bmVycy4nDQogIGVsc2UgJ0hJViBTY3JlZW5pbmcgTm90IFJlY29tbWVuZGVkIGF0IHRoaXMgdGltZS4gSXQgaGFzIGJlZW4gJyArIFRvU3RyaW5nKCJBbW91bnQgb2YgRGF5cyBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIikgKyAnIGRheXMgc2luY2UgbGFzdCBISVYgU2NyZWVuaW5nLicNCg0KZGVmaW5lICJNU00gUmF0aW9uYWxlIjoNCiAgJ0Ftb25nIHlvdW5nIChhZ2VkIDE4LS0yNCB5ZWFycykgbWVuIHdobyBoYXZlIHNleCB3aXRoIG1lbiAoTVNNKSBzdXJ2ZXllZCBkdXJpbmcgMjAwNC0tMjAwNSBpbiBmaXZlIFUuUy4gY2l0aWVzLCAxNCUgd2VyZSBpbmZlY3RlZCB3aXRoIEhJVjsgNzklIG9mIHRoZXNlIEhJVi1pbmZlY3RlZCBNU00gd2VyZSB1bmF3YXJlIG9mIHRoZWlyIGluZmVjdGlvbi4nDQoNCmRlZmluZSAiTVNNIEluZGljYXRvciI6DQogIGlmICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEV2ZXJ5IDMgTW9udGhzIiB0aGVuICJXYXJuaW5nIg0KICBlbHNlICJXYXJuaW5nIg0KDQoNCi8vIFBSRUdOQU5DWQ0KZGVmaW5lICJQcmVnbmFudCBDb25kaXRpb24iOg0KICAiSW4gUG9wdWxhdGlvbiINCiAgYW5kICgNCiAgICAiUGF0aWVudCBpcyBhdCBGaXJzdCBQcmVuYXRhbCBWaXNpdCINCiAgICBvciAiUGF0aWVudCBpcyBIaWdoIFJpc2sgaW4gVGhpcmQgVHJpbWVzdGVyIG9mIFByZWduYW5jeSINCiAgKQ0KDQpkZWZpbmUgIlByZWduYW50IFJlY29tbWVuZGF0aW9uIjoNCiAgaWYgIlBhdGllbnQgaXMgYXQgRmlyc3QgUHJlbmF0YWwgVmlzaXQiIGFuZCAiT3ZlciAzIE1vbnRocyBoYXMgUGFzdCBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIiB0aGVuDQogICAgJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgbm93IGR1ZSB0byBwYXRpZW50IGJlaW5nIGF0IGZpcnN0IHByZW5hdGFsIHZpc2l0LicNCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBIaWdoIFJpc2sgaW4gVGhpcmQgVHJpbWVzdGVyIG9mIFByZWduYW5jeSIgYW5kICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciIHRoZW4NCiAgICAnSElWIFNjcmVlbmluZyBSZWNvbW1lbmRlZCBkdWUgdG8gcGF0aWVudCBiZWluZyBhdCBoaWdoIHJpc2sgb2YgSElWIGR1cmluZyB0aGlyZCB0cmltZXN0ZXIgb2YgcHJlZ25hbmN5LicNCiAgZWxzZSAnSElWIFNjcmVlbmluZyBOb3QgUmVjb21tZW5kZWQgYXQgdGhpcyB0aW1lLiBJdCBoYXMgYmVlbiAnICsgVG9TdHJpbmcoIkFtb3VudCBvZiBEYXlzIFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciKSArICcgZGF5cyBzaW5jZSBsYXN0IEhJViBTY3JlZW5pbmcuJw0KDQpkZWZpbmUgIlByZWduYW50IFJhdGlvbmFsZSI6DQogIGlmICJQYXRpZW50IGlzIGF0IEZpcnN0IFByZW5hdGFsIFZpc2l0IiB0aGVuDQogICAgJ1RvIHByb21vdGUgaW5mb3JtZWQgYW5kIHRpbWVseSB0aGVyYXBldXRpYyBkZWNpc2lvbnMsIGhlYWx0aC1jYXJlIHByb3ZpZGVycyBzaG91bGQgdGVzdCB3b21lbiBmb3IgSElWIGFzIGVhcmx5IGFzIHBvc3NpYmxlIGR1cmluZyBlYWNoIHByZWduYW5jeS4gV29tZW4gd2hvIGRlY2xpbmUgdGhlIHRlc3QgZWFybHkgaW4gcHJlbmF0YWwgY2FyZSBzaG91bGQgYmUgZW5jb3VyYWdlZCB0byBiZSB0ZXN0ZWQgYXQgYSBzdWJzZXF1ZW50IHZpc2l0LicNCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBIaWdoIFJpc2sgaW4gVGhpcmQgVHJpbWVzdGVyIG9mIFByZWduYW5jeSIgdGhlbg0KICAgICdBIHNlY29uZCBISVYgdGVzdCBkdXJpbmcgdGhlIHRoaXJkIHRyaW1lc3RlciBmb3Igd29tZW4gaW4gc2V0dGluZ3Mgd2l0aCBlbGV2YXRlZCBISVYgaW5jaWRlbmNlICg+MTcgY2FzZXMgcGVyIDEwMCwwMDAgcGVyc29uLXllYXJzKSBpcyBjb3N0LWVmZmVjdGl2ZSBhbmQgbWlnaHQgcmVzdWx0IGluIHN1YnN0YW50aWFsIHJlZHVjdGlvbnMgaW4gbW90aGVyLXRvLWNoaWxkIEhJViB0cmFuc21pc3Npb24uJw0KICBlbHNlICcnDQoNCmRlZmluZSAiUHJlZ25hbnQgSW5kaWNhdG9yIjoNCiAgaWYgIlBhdGllbnQgaXMgYXQgRmlyc3QgUHJlbmF0YWwgVmlzaXQiIHRoZW4gIkluZm8iDQogIGVsc2UgaWYgIlBhdGllbnQgaXMgSGlnaCBSaXNrIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiIHRoZW4gIkNyaXRpY2FsIg0KICBlbHNlICJJbmZvIg0KDQoNCi8vIFNFRUtJTkcgVFJFQVRNRU5UDQpkZWZpbmUgIlNlZWtpbmcgU1REIFRyZWF0bWVudCBDb25kaXRpb24iOg0KICAiSW4gUG9wdWxhdGlvbiINCiAgYW5kICJQYXRpZW50IGlzIFNlZWtpbmcgVHJlYXRtZW50IGZvciBhbiBTVEQiDQoNCmRlZmluZSAiU2Vla2luZyBTVEQgVHJlYXRtZW50IFJlY29tbWVuZGF0aW9uIjoNCiAgaWYgIk92ZXIgMyBNb250aHMgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIgdGhlbiAnSElWIFNjcmVlbmluZyBSZWNvbW1lbmRlZCBub3cgZHVlIHRvIHBhdGllbnQgaW50ZXJlc3QuJw0KICBlbHNlICdISVYgU2NyZWVuaW5nIE5vdCBSZWNvbW1lbmRlZCBhdCB0aGlzIHRpbWUuIEl0IGhhcyBiZWVuICcgKyBUb1N0cmluZygiQW1vdW50IG9mIERheXMgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIpICsgJyBkYXlzIHNpbmNlIGxhc3QgSElWIFNjcmVlbmluZy4nDQoNCmRlZmluZSAiU2Vla2luZyBTVEQgVHJlYXRtZW50IFJhdGlvbmFsZSI6DQogICdBbGwgcGF0aWVudHMgc2Vla2luZyB0cmVhdG1lbnQgZm9yIFNURHMsIGluY2x1ZGluZyBhbGwgcGF0aWVudHMgYXR0ZW5kaW5nIFNURCBjbGluaWNzLCBzaG91bGQgYmUgc2NyZWVuZWQgcm91dGluZWx5IGZvciBISVYgZHVyaW5nIGVhY2ggdmlzaXQgZm9yIGEgbmV3IGNvbXBsYWludCwgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwYXRpZW50IGlzIGtub3duIG9yIHN1c3BlY3RlZCB0byBoYXZlIHNwZWNpZmljIGJlaGF2aW9yIHJpc2tzIGZvciBISVYgaW5mZWN0aW9uLicNCg0KZGVmaW5lICJTZWVraW5nIFNURCBUcmVhdG1lbnQgSW5kaWNhdG9yIjoNCiAgIkluZm8iDQoNCg0KLyogUklTSyBMZXZlbCBBY3Rpb25zICovDQpkZWZpbmUgIlJpc2sgTGV2ZWwgQ29uZGl0aW9uIjoNCiAgIkluIFBvcHVsYXRpb24iDQogIGFuZCAoDQogICAgIk5ldmVyIFRlc3RlZCBDb25kaXRpb24iIGlzIGZhbHNlDQogICAgYW5kICJNU00gQ29uZGl0aW9uIiBpcyBmYWxzZQ0KICAgIGFuZCAiUHJlZ25hbnQgQ29uZGl0aW9uIiBpcyBmYWxzZQ0KICAgIGFuZCAiU2Vla2luZyBTVEQgVHJlYXRtZW50IENvbmRpdGlvbiIgaXMgZmFsc2UNCiAgKQ0KDQpkZWZpbmUgIlJpc2sgTGV2ZWwgUmVjb21tZW5kYXRpb24iOg0KICBpZiAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgZm9yIEhJViIgYW5kICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciIHRoZW4gJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYXQgSGlnaCBSaXNrIGZvciBISVYgYW5kIG92ZXIgdGhyZWUgbW9udGhzIGhhdmUgcGFzc2VkIHNpbmNlIHByZXZpb3VzIHNjcmVlbmluZy4nDQogIGVsc2UgaWYgIlBhdGllbnQgaXMgYXQgTW9kZXJhdGUgUmlzayBmb3IgSElWIiBhbmQgIk92ZXIgYSBZZWFyIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciIHRoZW4gJ0hJViBTY3JlZW5pbmcgUmVjb21tZW5kZWQgZHVlIHRvIHBhdGllbnQgYmVpbmcgYXQgTW9kZXJhdGUgUmlzayBmb3IgSElWIGFuZCBvdmVyIGEgWWVhciBoYXMgcGFzc2VkIHNpbmNlIHByZXZpb3VzIHNjcmVlbmluZy4nDQogIGVsc2UgaWYgIlBhdGllbnQgaXMgYXQgTm8gUmlzayBmb3IgSElWIiB0aGVuICdISVYgU2NyZWVuaW5nIE5vdCBSZWNvbW1lbmRlZCBkdWUgdG8gcGF0aWVudCBiZWluZyBhdCBObyBSaXNrIGZvciBISVYuJw0KICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IExvdyBSaXNrIGZvciBISVYiIHRoZW4gJ0hJViBTY3JlZW5pbmcgTm90IFJlY29tbWVuZGVkIGR1ZSB0byBwYXRpZW50IGJlaW5nIGF0IExvdyBSaXNrIGZvciBISVYuJw0KICBlbHNlICdISVYgU2NyZWVuaW5nIE5vdCBSZWNvbW1lbmRlZCBhdCB0aGlzIHRpbWUuIEl0IGhhcyBiZWVuICcgKyBUb1N0cmluZygiQW1vdW50IG9mIERheXMgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyIpICsgJyBkYXlzIHNpbmNlIGxhc3QgSElWIFNjcmVlbmluZy4nDQoNCi8qIFJpc2sgTGV2ZWwgUmF0aW9uYWwgYmFzZWQgb24gUmVjb21tZW5kYXRpb24gT3B0aW9uIChSZWZlcmVuY2VzIHRvIENEQyBSZWNvbW1lbmRhdGlvbnMpICovDQpkZWZpbmUgIlJpc2sgTGV2ZWwgUmF0aW9uYWxlIjoNCiAgaWYgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIGZvciBISVYiIHRoZW4gJ0hlYWx0aC1jYXJlIHByb3ZpZGVycyBzaG91bGQgc3Vic2VxdWVudGx5IHRlc3QgYWxsIHBlcnNvbnMgbGlrZWx5IHRvIGJlIGF0IGhpZ2ggcmlzayBmb3IgSElWIGF0IGxlYXN0IGV2ZXJ5IDMgbW9udGhzLiBQZXJzb25zIGxpa2VseSB0byBiZSBhdCBoaWdoIHJpc2sgaW5jbHVkZSBwZXJzb25zIHdpdGggcHJvYmxlbXMgcmVsYXRlZCB0byBkcnVnIGFidXNlLCBpbmplY3Rpb24tZHJ1ZyB1c2VycyBhbmQgdGhlaXIgc2V4IHBhcnRuZXJzLCBwZXJzb25zIHdobyBleGNoYW5nZSBzZXggZm9yIG1vbmV5IG9yIGRydWdzLCBzZXggcGFydG5lcnMgb2YgSElWLWluZmVjdGVkIHBlcnNvbnMsIGFuZCBNU00gb3IgaGV0ZXJvc2V4dWFsIHBlcnNvbnMgd2hvIHRoZW1zZWx2ZXMgb3Igd2hvc2Ugc2V4IHBhcnRuZXJzIGhhdmUgaGFkIG1vcmUgdGhhbiBvbmUgc2V4IHBhcnRuZXIgc2luY2UgdGhlaXIgbW9zdCByZWNlbnQgSElWIHRlc3QuJw0KICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViIgdGhlbiAnSGVhbHRoLWNhcmUgcHJvdmlkZXJzIHNob3VsZCBzdWJzZXF1ZW50bHkgdGVzdCBhbGwgcGVyc29ucyBsaWtlbHkgdG8gYmUgYXQgbW9kZXJhdGUgcmlzayBmb3IgSElWIGF0IGxlYXN0IGFubnVhbGx5LiBQZXJzb25zIGxpa2VseSB0byBiZSBhdCBtb2RlcmF0ZSByaXNrIGluY2x1ZGUgTVNNLCBUcmFuc2dlbmRlciBQZXJzb25zLCBhbmQgR2F5IG9yIEJpc2V4dWFsIE1lbiB3aG8gYXJlIHNleHVhbGx5IGFjdGl2ZSBhbmQgaGF2ZSBzZXggd2l0aCBvdGhlciBtZW4uJw0KICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE5vIFJpc2sgZm9yIEhJViIgdGhlbiAnVGhlIFRhc2sgRm9yY2UgbWFkZSBubyByZWNvbW1lbmRhdGlvbiBmb3Igb3IgYWdhaW5zdCByb3V0aW5lbHkgc2NyZWVuaW5nIGFzeW1wdG9tYXRpYyBhZHVsdHMgYW5kIGFkb2xlc2NlbnRzIHdpdGggbm8gaWRlbnRpZmlhYmxlIHJpc2sgZmFjdG9ycyBmb3IgSElWLiBUaGUgVGFzayBGb3JjZSBjb25jbHVkZWQgdGhhdCBzdWNoIHNjcmVlbmluZyB3b3VsZCBkZXRlY3QgYWRkaXRpb25hbCBwYXRpZW50cyB3aXRoIEhJViwgYnV0IHRoZSBvdmVyYWxsIG51bWJlciB3b3VsZCBiZSBsaW1pdGVkLCBhbmQgdGhlIHBvdGVudGlhbCBiZW5lZml0cyBkaWQgbm90IGNsZWFybHkgb3V0d2VpZ2ggdGhlIGJ1cmRlbiBvbiBwcmltYXJ5IGNhcmUgcHJhY3RpY2VzIG9yIHRoZSBwb3RlbnRpYWwgaGFybXMgb2YgYSBnZW5lcmFsIEhJViBzY3JlZW5pbmcgcHJvZ3JhbS4nDQogIGVsc2UgJ0luIGxvdyBwcmV2YWxlbmNlIHNldHRpbmdzLCBpbiB3aGljaCB0aGUgbWFqb3JpdHkgb2YgY2xpZW50cyBhcmUgYXQgbWluaW1hbCByaXNrLCB0YXJnZXRlZCBISVYgdGVzdGluZyBvbiB0aGUgYmFzaXMgb2YgcmlzayBzY3JlZW5pbmcgd2FzIGNvbnNpZGVyZWQgbW9yZSBmZWFzaWJsZSBmb3IgaWRlbnRpZnlpbmcgbGltaXRlZCBudW1iZXJzIG9mIEhJVi1pbmZlY3RlZCBwZXJzb25zLiBUaGUgVGFzayBGb3JjZSBjb25jbHVkZWQgdGhhdCBzdWNoIHNjcmVlbmluZyB3b3VsZCBkZXRlY3QgYWRkaXRpb25hbCBwYXRpZW50cyB3aXRoIEhJViwgYnV0IHRoZSBvdmVyYWxsIG51bWJlciB3b3VsZCBiZSBsaW1pdGVkLCBhbmQgdGhlIHBvdGVudGlhbCBiZW5lZml0cyBkaWQgbm90IGNsZWFybHkgb3V0d2VpZ2ggdGhlIGJ1cmRlbiBvbiBwcmltYXJ5IGNhcmUgcHJhY3RpY2VzIG9yIHRoZSBwb3RlbnRpYWwgaGFybXMgb2YgYSBnZW5lcmFsIEhJViBzY3JlZW5pbmcgcHJvZ3JhbS4nDQoNCmRlZmluZSAiUmlzayBMZXZlbCBJbmRpY2F0b3IgU3RhdHVzIjoNCiAgaWYgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIGZvciBISVYiIHRoZW4gIkNyaXRpY2FsIg0KICBlbHNlIGlmICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViIgdGhlbiAiV2FybmluZyINCiAgZWxzZSBpZiAiUGF0aWVudCBpcyBhdCBObyBSaXNrIGZvciBISVYiIHRoZW4gIkluZm8iDQogIGVsc2UgIkluZm8iDQoNCmRlZmluZSAiRXhjbHVzaW9uIFJlYXNvbiI6DQogIGlmICJNZWV0cyBFeGNsdXNpb24gQ3JpdGVyaWEiIHRoZW4NCiAgICAoDQogICAgICAnUGF0aWVudCB3YXMgZXhjbHVkZWQgZnJvbSBISVYgU2NyZWVuaW5nICcNCiAgICAgICsgKA0KICAgICAgICAgIGlmIG5vdCAiUGF0aWVudCBpcyBiZXR3ZWVuIDEzIGFuZCA2NCB5ZWFycyBvbGQiIHRoZW4gJ2R1ZSB0byBub3QgYmVpbmcgYmV0d2VlbiB0aGUgYWdlcyBvZiAxMyBhbmQgNjQuJw0KICAgICAgICAgIGVsc2UgaWYgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgSElWIER1cmluZyBQYXRpZW50IFZpc2l0IiBpcyBub3QgbnVsbCB0aGVuICdkdWUgdG8gdGhlIHBhdGllbnQgYWxyZWFkeSBoYXZpbmcgYmVlbiBkaWFnbm9zZWQgd2l0aCBISVYuJw0KICAgICAgICAgIGVsc2UgJycNCiAgICAgICAgKQ0KICAgICkNCiAgZWxzZSAnJw0KDQoNCi8qIEhJViBTY3JlZW5pbmcgV29ya2Zsb3cgKi8NCi8vIFBhdGllbnQgVmlzaXQgT2NjdXJyZWQNCmRlZmluZSAiUGF0aWVudCBFbmNvdW50ZXIiOg0KICBMYXN0KA0KICAgIChIQy5RdWFsaWZpZWRFbmNvdW50ZXJzKA0KICAgICAgSERFLiJFbmNvdW50ZXIgVHlwZSINCiAgICAgIHVuaW9uIEhERS4iUHJlZ25hbmN5IEVuY291bnRlcnMiDQogICAgICB1bmlvbiBIREUuIlRoaXJkIFRyaW1lc3RlciBFbmNvdW50ZXJzIg0KICAgICkpIFBhdGllbnRFbmNvdW50ZXINCiAgICBzb3J0IGJ5IGVuZCBvZiBwZXJpb2QpDQoNCg0KLyogRGV0ZXJtaW5lIFBhdGllbnQgQ2hhcmFjdGVyaXN0aWNzIGFuZCBUZXN0aW5nIENyaXRlcmlhICovDQpkZWZpbmUgIlBhdGllbnQgaXMgYmV0d2VlbiAxMyBhbmQgNjQgeWVhcnMgb2xkIjoNCiAgQWdlSW5ZZWFyc0F0KGVuZCBvZiAiUGF0aWVudCBFbmNvdW50ZXIiLnBlcmlvZCkgPj0gMTMNCiAgYW5kIEFnZUluWWVhcnNBdChlbmQgb2YgIlBhdGllbnQgRW5jb3VudGVyIi5wZXJpb2QpIDw9IDY0DQoNCmRlZmluZSAiQWN0aXZlIERpYWdub3NpcyBvZiBISVYgRHVyaW5nIFBhdGllbnQgVmlzaXQiOg0KICAoTGFzdCgNCiAgICAoSEMuUXVhbGlmaWVkQ29uZGl0aW9ucyhIREUuIkhJViBEaWFnbm9zaXMiKSkgSElWRGlhZ25vc2lzDQogICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGFiYXRlbWVudCkNCiAgKSkgSElWRGlhZ25vc2lzDQogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXINCiAgICAgIHN1Y2ggdGhhdCBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChISVZEaWFnbm9zaXMpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiSElWIFNjcmVlbmluZyBUZXN0IjoNCiAgKA0KICAgIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIkhJViBUZXN0IikNCiAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJQcmV2aW91cyBISVYgU2NyZWVuaW5nIikNCiAgKSBISVZTY3JlZW5pbmcNCiAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoSElWU2NyZWVuaW5nLmVmZmVjdGl2ZSkgYmVmb3JlIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiUGF0aWVudCBoYXMgaGFkIGFuIEhJViBTY3JlZW5pbmciOg0KICBleGlzdHMoIkhJViBTY3JlZW5pbmcgVGVzdCIpDQoNCmRlZmluZSAiUHJldmlvdXMgSElWIFNjcmVlbmluZyBUZXN0IjoNCiAgZnJvbQ0KICAoDQogICAgTGFzdCgiSElWIFNjcmVlbmluZyBUZXN0IiBISVZUZXN0DQogICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGVmZmVjdGl2ZSkpDQogICkgTW9zdFJlY2VudEhJVlRlc3QsDQogICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIEZDLlRvSW50ZXJ2YWwoTW9zdFJlY2VudEhJVlRlc3QuZWZmZWN0aXZlKSBiZWZvcmUgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCg0KZGVmaW5lICJBbW91bnQgb2YgRGF5cyBTaW5jZSBQcmV2aW91cyBISVYgU2NyZWVuaW5nIjoNCiAgIlByZXZpb3VzIEhJViBTY3JlZW5pbmcgVGVzdCIgSElWVGVzdA0KICAgIHJldHVybiBkdXJhdGlvbiBpbiBkYXlzIGJldHdlZW4gZW5kIG9mIEZDLlRvSW50ZXJ2YWwoSElWVGVzdC5Nb3N0UmVjZW50SElWVGVzdC5lZmZlY3RpdmUpIGFuZCBlbmQgb2YgSElWVGVzdC5QYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KDQpkZWZpbmUgIk92ZXIgYSBZZWFyIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciOg0KICAiUHJldmlvdXMgSElWIFNjcmVlbmluZyBUZXN0IiBISVZUZXN0DQogICAgcmV0dXJuIChkdXJhdGlvbiBpbiB5ZWFycyBiZXR3ZWVuIGVuZCBvZiBGQy5Ub0ludGVydmFsKEhJVlRlc3QuTW9zdFJlY2VudEhJVlRlc3QuZWZmZWN0aXZlKSBhbmQgZW5kIG9mIEhJVlRlc3QuUGF0aWVudEVuY291bnRlci5wZXJpb2QpID49IDENCg0KZGVmaW5lICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciOg0KICAiUHJldmlvdXMgSElWIFNjcmVlbmluZyBUZXN0IiBISVZUZXN0DQogICAgcmV0dXJuIChkdXJhdGlvbiBpbiBtb250aHMgYmV0d2VlbiBlbmQgb2YgRkMuVG9JbnRlcnZhbChISVZUZXN0Lk1vc3RSZWNlbnRISVZUZXN0LmVmZmVjdGl2ZSkgYW5kIGVuZCBvZiBISVZUZXN0LlBhdGllbnRFbmNvdW50ZXIucGVyaW9kKSA+PSAzDQoNCmRlZmluZSAiUGF0aWVudCBoYXMgUmVjZWl2ZWQgUHJlIEV4cG9zdXJlIFByb3BoeWxheGlzIjoNCiAgZXhpc3RzKA0KICAgIEhDLlF1YWxpZmllZE1lZGljYXRpb25SZXF1ZXN0cyhIREUuIlByZXAgTWVkaWNhdGlvbiBQcmVzY3JpcHRpb25zIikNCiAgICB1bmlvbiBIQy5RdWFsaWZpZWRNZWRpY2F0aW9uRGlzcGVuc2VzKEhERS4iUHJlcCBEaXNwZW5zZWQgTWVkaWNhdGlvbnMiKQ0KICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlByZXZpb3VzIGV4cGVyaWVuY2Ugd2l0aCBQUkVQIikNCiAgKSBQckVQDQoNCg0KLyogRGV0ZXJtaW5lIFBhdGllbnQncyBDYXRlZ29yeSAoZ2VuZGVyLCBwcmVnbmFuY3ksIE1TTSwgc2V4dWFsIGFjdGl2aXR5LCBldGMpICovDQpkZWZpbmUgIlBhdGllbnQgaXMgTWFsZSI6DQogIGlmIFBhdGllbnQuZ2VuZGVyID0gJ21hbGUnIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlDQoNCmRlZmluZSAiUGF0aWVudCBpcyBGZW1hbGUiOg0KICBpZiBQYXRpZW50LmdlbmRlciA9ICdmZW1hbGUnIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlDQoNCmRlZmluZSAiUGF0aWVudCBpcyBUcmFuc2dlbmRlciI6DQogICAgSERFLiJHZW5kZXIgSWRlbnRpdHkiIGluIEN4LiJUcmFuc2dlbmRlciINCg0KZGVmaW5lICJQYXRpZW50IGlzIEdheSBvciBCaXNleHVhbCI6DQogICAgICBIREUuIlNleHVhbCBPcmllbnRhdGlvbiIgaW4gQ3guIkdheSBPciBCaXNleHVhbCINCg0KZGVmaW5lICJQYXRpZW50IGlzIFByZWduYW50IjoNCiAgZXhpc3RzKA0KICAgIChIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iUHJlZ25hbmN5IENvbmRpdGlvbnMiKSkgUHJlZ25hbmN5DQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICBzdWNoIHRoYXQgRkMuVG9QcmV2YWxlbmNlSW50ZXJ2YWwoUHJlZ25hbmN5KSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KICApDQoNCg0KLyogRGV0ZXJtaW5lIFBhdGllbnQncyBSaXNrIExldmVsIChIaWdoIFJpc2ssIE5vcm1hbCBSaXNrLCBObyBSaXNrLCBMb3cgUmlzaykgKi8NCi8vIFByZWRvbWluYW50bHkgYmFzZWQgb2ZmIGVsZW1lbnRzIGJ1aWx0IGZyb20gdGhlIHJpc2stZmFjdG9ycyBxdWVzdGlvbm5haXJlDQovLyBSSVNLUzogU1RJcywgSW5qZWN0aW9uIERydWcgVXNlLCBTZXggcGFydG5lciBoYXMgSElWLCBTZXggRXhjaGFuZ2VkIGZvciBEcnVncy9Nb25leSwgTW9yZSB0aGFuIDEgUGFydG5lciBzaW5jZSBwcmV2aW91cyBzY3JlZW5pbmcgKGZvciB0aGVtc2VsdmVzIG9yIHRoZWlyIHBhcnRuZXJzKSwgRHJ1ZyBhYnVzZQ0KDQovKiAxLiBSZWNvbW1lbmQgU2NyZWVuaW5nIDMgbW9udGhzIChIaWdoIFJpc2sgLSBDREMgUmlzayBGYWN0b3JzKQ0KICAgIDIuIFJlY29tbWVuZCBTY3JlZW5pbmcgQW5udWFsbHkgKE1vZGVyYXRlIFJpc2sgLSBTT0dJIFJpc2sgRmFjdG9ycykNCiAgICAzLiBObyBSZWNvbW1lbmRhdGlvbiBTY3JlZW5pbmcgKE5vIFJpc2spIC8gTG93IFJpc2sNCiAgICA0LiBSZWNvbW1lbmQgU2NyZWVuaW5nIEN1c3RvbSBQZXJpb2RzICgzIG1vbnRocyBiYXNlZCBvbiBzcGVjaWZpYyByaXNrIGZhY3RvciAtLSBzZXh1YWxseSBhY3RpdmUgTVNNIHcvIHByZXAsIGV0YykNCiAgICAgIC8vIE1TTSAvIFByZWduYW5jeSAvIENEQyBSZWNvbW1lbmRhdGlvbg0KKi8NCg0KLyogSElHSCBSSVNLICovDQovLyBIaWdoIFJpc2sgLS0gT3RoZXIgU1RJcw0KZGVmaW5lICJBY3RpdmUgRGlhZ25vc2lzIG9mIEhDViBEdXJpbmcgUGF0aWVudCBWaXNpdCI6DQogICgNCiAgICAoTGFzdCgNCiAgICAgIChIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iSGVwYXRpdGlzIEMgRGlhZ25vc2lzIikpIEhDVkRpYWdub3Npcw0KICAgICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGFiYXRlbWVudCkpDQogICAgKSBIQ1ZEaWFnbm9zaXMNCiAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKEhDVkRpYWdub3Npcykgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCiAgKSBpcyBub3QgbnVsbA0KICBvciBleGlzdHMoDQogICAgKEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlBhdGllbnQgRGlhZ25vc2VkIHdpdGggSENWIikpIEhDVk9ic2VydmVkDQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChIQ1ZPYnNlcnZlZC5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQogICkNCg0KZGVmaW5lICJBY3RpdmUgRGlhZ25vc2lzIG9mIFN5cGhpbGlzIER1cmluZyBQYXRpZW50IFZpc2l0IjoNCiAgKA0KICAgIChMYXN0KA0KICAgICAgKEhDLlF1YWxpZmllZENvbmRpdGlvbnMoSERFLiJTeXBoaWxpcyBEaWFnbm9zaXMiKSkgU3lwaGlsaXNEaWFnbm9zaXMNCiAgICAgICAgc29ydCBieSBlbmQgb2YgRkMuVG9JbnRlcnZhbChhYmF0ZW1lbnQpKQ0KICAgICkgU3lwaGlsaXNEaWFnbm9zaXMNCiAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKFN5cGhpbGlzRGlhZ25vc2lzKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KICApIGlzIG5vdCBudWxsDQogIG9yIGV4aXN0cygNCiAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iUGF0aWVudCBEaWFnbm9zZWQgd2l0aCBTeXBoaWxpcyIpKSBTeXBoaWxpc09ic2VydmVkDQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChTeXBoaWxpc09ic2VydmVkLmVmZmVjdGl2ZSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCiAgKQ0KDQpkZWZpbmUgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgR29ub3JyaGVhIER1cmluZyBQYXRpZW50IFZpc2l0IjoNCiAgKA0KICAgIChMYXN0KA0KICAgICAgKEhDLlF1YWxpZmllZENvbmRpdGlvbnMoSERFLiJHb25vcnJoZWEgRGlhZ25vc2lzIikpIEdvbm9ycmhlYURpYWdub3Npcw0KICAgICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGFiYXRlbWVudCkpDQogICAgKSBHb25vcnJoZWFEaWFnbm9zaXMNCiAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgc3VjaCB0aGF0IEZDLlRvUHJldmFsZW5jZUludGVydmFsKEdvbm9ycmhlYURpYWdub3Npcykgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCiAgKSBpcyBub3QgbnVsbA0KICBvciBleGlzdHMoDQogICAgKEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlBhdGllbnQgRGlhZ25vc2VkIHdpdGggR29ub3JyaGVhIikpIEdvbm9ycmhlYU9ic2VydmVkDQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChHb25vcnJoZWFPYnNlcnZlZC5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQogICkNCg0KZGVmaW5lICJBY3RpdmUgRGlhZ25vc2lzIG9mIENobGFteWRpYSBEdXJpbmcgUGF0aWVudCBWaXNpdCI6DQogICgNCiAgICAoTGFzdCgNCiAgICAgIChIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iQ2hsYW15ZGlhIERpYWdub3NpcyIpKSBDaGxhbXlkaWFEaWFnbm9zaXMNCiAgICAgICAgc29ydCBieSBlbmQgb2YgRkMuVG9JbnRlcnZhbChhYmF0ZW1lbnQpKQ0KICAgICkgQ2hsYW15ZGlhRGlhZ25vc2lzDQogICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXINCiAgICAgIHN1Y2ggdGhhdCBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChDaGxhbXlkaWFEaWFnbm9zaXMpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQogICkgaXMgbm90IG51bGwNCiAgb3IgZXhpc3RzKA0KICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJQYXRpZW50IERpYWdub3NlZCB3aXRoIENobGFteWRpYSIpKSBDaGxhbXlkaWFPYnNlcnZlZA0KICAgICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXINCiAgICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoQ2hsYW15ZGlhT2JzZXJ2ZWQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KICApDQoNCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIGEgU1REIjoNCiAgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgSENWIER1cmluZyBQYXRpZW50IFZpc2l0Ig0KICBvciAiQWN0aXZlIERpYWdub3NpcyBvZiBTeXBoaWxpcyBEdXJpbmcgUGF0aWVudCBWaXNpdCINCiAgb3IgIkFjdGl2ZSBEaWFnbm9zaXMgb2YgR29ub3JyaGVhIER1cmluZyBQYXRpZW50IFZpc2l0Ig0KICBvciAiQWN0aXZlIERpYWdub3NpcyBvZiBDaGxhbXlkaWEgRHVyaW5nIFBhdGllbnQgVmlzaXQiDQoNCi8vIEhpZ2ggUmlzayAtLSBJbmplY3Rpb24gRHJ1ZyBVc2UNCi8vIE5PVEU6IFdoYXQgaXMgY29uc2lkZXJlZCBhbiBBY3RpdmUgVGltZSBQZXJpb2QgZm9yIEluamVjdGlvbiBEcnVnIFVzZT8NCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIEluamVjdGlvbiBEcnVnIFVzZSI6DQogICgNCiAgICAoTGFzdCgNCiAgICAgICgNCiAgICAgICAgSEMuUXVhbGlmaWVkUHJvY2VkdXJlcyhIREUuIkRydWcgUmVoYWJpbGl0YXRpb24iKQ0KICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJJbmplY3Rpb24gRmluZGluZ3MiKQ0KICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRDb25kaXRpb25zKEhERS4iSW5qZWN0aW9uIERydWcgVXNlIERpYWdub3NpcyIpDQogICAgICAgIHVuaW9uIEhDLlF1YWxpZmllZE1lZGljYXRpb25TdGF0ZW1lbnRzKEhERS4iSW5qZWN0aW9uIERydWcgVXNlIikNCiAgICAgICAgdW5pb24gSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iUGF0aWVudCBoYXMgdXNlZCBJbmplY3Rpb24gRHJ1Z3MiKQ0KICAgICAgKSBJbmplY3Rpb25EcnVnVXNlDQogICAgICAgICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICAgICAgIHJlc291cmNlOiBJbmplY3Rpb25EcnVnVXNlLA0KICAgICAgICAgICAgSURVVGltaW5nOiBDb2FsZXNjZSgNCiAgICAgICAgICAgICAgZW5kIG9mIEZDLlRvSW50ZXJ2YWwoSW5qZWN0aW9uRHJ1Z1VzZS5wZXJmb3JtZWQpLCBlbmQgb2YgRkMuVG9JbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlLmVmZmVjdGl2ZSksIGVuZCBvZiBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlKQ0KICAgICAgICAgICAgKSB9IHNvcnQgYnkgSURVVGltaW5nKS5yZXNvdXJjZQ0KICAgICkgSW5qZWN0aW9uRHJ1Z1VzZQ0KICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyDQogICAgICBzdWNoIHRoYXQgQ29hbGVzY2UoRkMuVG9JbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlLnBlcmZvcm1lZCksIEZDLlRvSW50ZXJ2YWwoSW5qZWN0aW9uRHJ1Z1VzZS5lZmZlY3RpdmUpLCBGQy5Ub1ByZXZhbGVuY2VJbnRlcnZhbChJbmplY3Rpb25EcnVnVXNlKSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCiAgKSBpcyBub3QgbnVsbA0KDQovL0hpZ2ggUmlzayAtLSBEcnVnIEFidXNlDQpkZWZpbmUgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBEcnVnIEFidXNlIjoNCiAgIlBhdGllbnQgSGFzIEhpZ2ggRGVncmVlIE9mIFByb2JsZW1zIFJlbGF0ZWQgVG8gRHJ1ZyBBYnVzZSINCg0KLy8gSGlnaCBSaXNrIC0tIFBhcnRuZXIgd2l0aCBISVYNCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIFNleHVhbCBQYXJ0bmVyIGhhdmluZyBISVYiOg0KICBleGlzdHMoDQogICAgKEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIFBhcnRuZXJzIEhJViBIaXN0b3J5IikpIEhJVlBhcnRuZXJIaXN0b3J5DQogICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICBzdWNoIHRoYXQgRkMuVG9JbnRlcnZhbChISVZQYXJ0bmVySGlzdG9yeS5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQogICkNCg0KLy8gSGlnaCBSaXNrIC0tIFNleCBFeGNoYW5nZWQgZm9yIERydWdzL01vbmV5DQpkZWZpbmUgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBleGNoYW5naW5nIHNleCBmb3IgbW9uZXkgYW5kL29yIGRydWdzIjoNCiAgZXhpc3RzKA0KICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBFeGNoYW5nZWQgZm9yIFNleCIpKSBTZXhFeGNoYW5nZWQNCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyDQogICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKFNleEV4Y2hhbmdlZC5lZmZlY3RpdmUpIG92ZXJsYXBzIFBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQogICkNCg0KLy8gSGlnaCBSaXNrIC0tIE11bHRpcGxlIFNleCBQYXJ0bmVycyBzaW5jZSBwcmV2aW91cyBISVYgU2NyZWVuaW5nIGZvciBQYXRpZW50IG9yIHRoZWlyIHBhcnRuZXINCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIE11bHRpcGxlIFNleCBQYXJ0bmVycyBzaW5jZSBsYXN0IHNjcmVlbmluZyI6DQogICgNCiAgICAoTGFzdCgNCiAgICAgICgNCiAgICAgICAgSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iSElWIFRlc3QiKQ0KICAgICAgICB1bmlvbiBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJQcmV2aW91cyBISVYgU2NyZWVuaW5nIikNCiAgICAgICkgSElWU2NyZWVuaW5nDQogICAgICBzb3J0IGJ5IGVuZCBvZiBGQy5Ub0ludGVydmFsKGVmZmVjdGl2ZSkNCiAgKSkgSElWU2NyZWVuaW5nDQogICAgd2l0aCAoDQogICAgICBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBOdW1iZXIgb2YgUGFydG5lcnMiKQ0KICAgICAgdW5pb24gSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2V4dWFsIEFjdGl2aXR5IC0gUGFydG5lcnMgTnVtYmVyIG9mIFBhcnRuZXJzIikNCiAgICApIE51bWJlck9mUGFydG5lcnMNCiAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKEhJVlNjcmVlbmluZy5lZmZlY3RpdmUpIGJlZm9yZSBGQy5Ub0ludGVydmFsKE51bWJlck9mUGFydG5lcnMuZWZmZWN0aXZlKQ0KICApIGlzIG5vdCBudWxsDQoNCmRlZmluZSAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgZm9yIEhJViI6DQogICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gYSBTVEQiDQogIG9yICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gSW5qZWN0aW9uIERydWcgVXNlIg0KICBvciAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIERydWcgQWJ1c2UiDQogIG9yICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gU2V4dWFsIFBhcnRuZXIgaGF2aW5nIEhJViINCiAgb3IgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBleGNoYW5naW5nIHNleCBmb3IgbW9uZXkgYW5kL29yIGRydWdzIg0KICBvciAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgRHVlIHRvIE11bHRpcGxlIFNleCBQYXJ0bmVycyBzaW5jZSBsYXN0IHNjcmVlbmluZyINCg0KDQovKiBNT0RFUkFURSBSSVNLICovDQovLyBTZXh1YWxseSBhY3RpdmUgTVNNLCBUcmFuc2dlbmRlciBwYXRpZW50IHNleHVhbGx5IGFjdGl2ZSB3aXRoIG1lbiwgR2F5IGFuZCBiaXNleHVhbCBtZW4gdW5sZXNzIGRvY3VtZW50ZWQgbm90IHNleHVhbGx5IGFjdGl2ZQ0KDQovLyBNb2RlcmF0ZSBSaXNrIC0tIEFueSBzZXh1YWxseSBhY3RpdmUgTVNNDQpkZWZpbmUgIlNleHVhbGx5IEFjdGl2ZSBNU00gUGF0aWVudCI6DQogIGlmICJQYXRpZW50IGlzIE1hbGUiIHRoZW4NCiAgICAoDQogICAgICBleGlzdHMoDQogICAgICAgIChIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBNZW4iKSkgTVNNT2JzZXJ2ZWQNCiAgICAgICAgICB3aXRoICJQYXRpZW50IEVuY291bnRlciIgUGF0aWVudEVuY291bnRlcg0KICAgICAgICAgICAgc3VjaCB0aGF0IEZDLlRvSW50ZXJ2YWwoTVNNT2JzZXJ2ZWQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KICAgICAgKQ0KICAgICkNCiAgZWxzZSBmYWxzZQ0KDQovLyBNb2RlcmF0ZSBSaXNrIC0tIFRyYW5zZ2VuZGVyIHBhdGllbnRzIHNleHVhbGx5IGFjdGl2ZSB3aXRoIG1lbg0KZGVmaW5lICJUcmFuc2dlbmRlciBQYXRpZW50IFNleHVhbGx5IEFjdGl2ZSBXaXRoIE1lbiI6DQogIGlmICJQYXRpZW50IGlzIFRyYW5zZ2VuZGVyIiB0aGVuDQogICAgKA0KICAgICAgZXhpc3RzKA0KICAgICAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2V4dWFsIEFjdGl2aXR5IC0gTWVuIikpIE1TTU9ic2VydmVkDQogICAgICAgICAgd2l0aCAiUGF0aWVudCBFbmNvdW50ZXIiIFBhdGllbnRFbmNvdW50ZXINCiAgICAgICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKE1TTU9ic2VydmVkLmVmZmVjdGl2ZSkgb3ZlcmxhcHMgUGF0aWVudEVuY291bnRlci5wZXJpb2QNCiAgICAgICkNCiAgICApDQogIGVsc2UgZmFsc2UNCg0KLy8gTW9kZXJhdGUgUmlzayAtLSBBbGwgZ2F5IG9yIGJpc2V4dWFsIG1lbiB1bmxlc3MgZG9jdW1lbnRlZCBub3Qgc2V4dWFsbHkgYWN0aXZlDQpkZWZpbmUgIk1hbGUsIEdheSwgb3IgQmlzZXh1YWwgUGF0aWVudCBOb3QgRG9jdW1lbnRlZCBTZXh1YWxseSBJbmFjdGl2ZSI6DQogICJQYXRpZW50IGlzIE1hbGUiIGFuZCAiUGF0aWVudCBpcyBHYXkgb3IgQmlzZXh1YWwiIGFuZCBub3QgIlBhdGllbnQgaXMgbm90IFNleHVhbGx5IEFjdGl2ZSINCg0KZGVmaW5lICJQYXRpZW50IGlzIGF0IE1vZGVyYXRlIFJpc2sgZm9yIEhJViI6DQogICJTZXh1YWxseSBBY3RpdmUgTVNNIFBhdGllbnQiDQogIG9yICJUcmFuc2dlbmRlciBQYXRpZW50IFNleHVhbGx5IEFjdGl2ZSBXaXRoIE1lbiINCiAgb3IgIk1hbGUsIEdheSwgb3IgQmlzZXh1YWwgUGF0aWVudCBOb3QgRG9jdW1lbnRlZCBTZXh1YWxseSBJbmFjdGl2ZSINCg0KDQovKiBObyBSaXNrICovDQovLyBOb3QgU2V4dWFsbHkgQWN0aXZlDQpkZWZpbmUgIlBhdGllbnQgaXMgbm90IFNleHVhbGx5IEFjdGl2ZSI6DQogICgNCiAgICAoDQogICAgICBMYXN0DQogICAgICAoDQogICAgICAgICgNCiAgICAgICAgICBIQy5RdWFsaWZpZWRPYnNlcnZhdGlvbnMoSERFLiJTZXh1YWwgQWN0aXZpdHkgLSBQYXN0IFllYXIiKQ0KICAgICAgICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIEhpc3RvcnkiKQ0KICAgICAgICAgIHVuaW9uIEhDLlF1YWxpZmllZE9ic2VydmF0aW9ucyhIREUuIlNleHVhbCBBY3Rpdml0eSAtIE1lbiIpDQogICAgICAgICAgdW5pb24gSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2V4dWFsIEFjdGl2aXR5IC0gV29tZW4iKQ0KDQogICAgICAgICkgU2V4dWFsSGlzdG9yeQ0KICAgICAgICAgICAgd2hlcmUgQ29hbGVzY2UoTG93ZXIoU2V4dWFsSGlzdG9yeS52YWx1ZSBhcyBzdHJpbmcpIGluIHsgJ25vJyB9LCBTZXh1YWxIaXN0b3J5LnZhbHVlIGFzIGJvb2xlYW4gPSBmYWxzZSkNCiAgICAgICAgICAgICAgc29ydCBieSBDb2FsZXNjZShlZmZlY3RpdmUsIGlzc3VlZCkNCiAgICAgICkNCiAgICApIFNleHVhbEhpc3RvcnkNCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBFbmNvdW50ZXINCiAgICAgICAgc3VjaCB0aGF0IENvYWxlc2NlKEZDLlRvSW50ZXJ2YWwoU2V4dWFsSGlzdG9yeS5lZmZlY3RpdmUpLCBGQy5Ub0ludGVydmFsKFNleHVhbEhpc3RvcnkuaXNzdWVkKSkgZHVyaW5nIEVuY291bnRlci5wZXJpb2QNCiAgKSBpcyBub3QgbnVsbA0KDQpkZWZpbmUgIlBhdGllbnQgaXMgYXQgTm8gUmlzayBmb3IgSElWIjoNCiAgIlBhdGllbnQgaXMgbm90IFNleHVhbGx5IEFjdGl2ZSINCg0KDQovKiBMT1cgUklTSyAqLw0KLy8gTm90IHNleHVhbGx5IGFjdGl2ZQ0KZGVmaW5lICJQYXRpZW50IGlzIGF0IExvdyBSaXNrIGZvciBISVYiOg0KICBub3QgIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIGZvciBISVYiDQogIGFuZCBub3QgIlBhdGllbnQgaXMgYXQgTW9kZXJhdGUgUmlzayBmb3IgSElWIg0KICBhbmQgbm90ICJQYXRpZW50IGlzIGF0IE5vIFJpc2sgZm9yIEhJViINCg0KDQovKiBXb21lbiAmIE1lbiBXb3JrZmxvdyAqLw0KLy8gQWxsIFdvbWVuIGFuZCBNZW4gYmV0d2VlbiB0aGUgYWdlcyAxMy02NCBhbmQvb3IgdGhvc2Ugd2hvIGFyZSBzZWVraW5nIHRyZWF0bWVudCBmb3IgYW4gU1REDQpkZWZpbmUgIlBhdGllbnQgaXMgU2Vla2luZyBUcmVhdG1lbnQgZm9yIGFuIFNURCI6DQogIGV4aXN0cygNCiAgICAoSEMuUXVhbGlmaWVkT2JzZXJ2YXRpb25zKEhERS4iU2Vla2luZyBTVEQgVHJlYXRtZW50IikpIFNlZWtpbmdUcmVhdG1lbnQNCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyDQogICAgICAgIHN1Y2ggdGhhdCBGQy5Ub0ludGVydmFsKFNlZWtpbmdUcmVhdG1lbnQuZWZmZWN0aXZlKSBvdmVybGFwcyBQYXRpZW50RW5jb3VudGVyLnBlcmlvZA0KICApDQoNCg0KLyogUHJlZ25hbnQgV29tZW4gV29ya2Zsb3cgKi8NCi8vIEFsbCBXb21lbiBzaG91bGQgYmUgc2NyZWVuZWQgYXQgSW5pdGlhbCBQcmVuYXRhbCBWaXNpdA0KLy8gQWxsIHdvbWVuIHNob3VsZCBiZSByZXRlc3RlZCBpbiB0aGUgdGhpcmQgdHJpbWVzdGVyIGlmIHRoZXkncmUgaGlnaCByaXNrDQovLyBOT1RFOiBUaGlzIGRlZmluaXRpb24gaW1wbGVtZW50YXRpb24gaXMgbmFpdmUgYW5kIGRvZXMgbm90IHRha2UgaW50byBlZmZlY3QgbXVsdGlwbGUgcHJlZ25hbmNpZXMuIENvbnNpZGVyIHVzZSBvZiBhbiBFcGlzb2RlT2ZDYXJlIHJlc291cmNlLg0KZGVmaW5lICJQYXRpZW50IGlzIGF0IEZpcnN0IFByZW5hdGFsIFZpc2l0IjoNCiAgKA0KICAgIChGaXJzdCgNCiAgICAgIChIQy5RdWFsaWZpZWRFbmNvdW50ZXJzKEhERS4iUHJlZ25hbmN5IEVuY291bnRlcnMiKSkgUHJlZ25hbmN5RW5jb3VudGVyDQogICAgICBzb3J0IGJ5IGVuZCBvZiBwZXJpb2QNCiAgICApKSBQcmVnbmFuY3lFbmNvdW50ZXINCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyDQogICAgICAgIHN1Y2ggdGhhdCBQcmVnbmFuY3lFbmNvdW50ZXIuaWQgPSBQYXRpZW50RW5jb3VudGVyLmlkDQogICkgaXMgbm90IG51bGwNCg0KZGVmaW5lICJQYXRpZW50IGlzIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiOg0KICAoDQogICAgKExhc3QoDQogICAgICAoSEMuUXVhbGlmaWVkRW5jb3VudGVycyhIREUuIlRoaXJkIFRyaW1lc3RlciBFbmNvdW50ZXJzIikpIFRoaXJkVHJpbWVzdGVyRW5jb3VudGVyDQogICAgc29ydCBieSBlbmQgb2YgcGVyaW9kDQogICAgKSkgVGhpcmRUcmltZXN0ZXJFbmNvdW50ZXINCiAgICAgIHdpdGggIlBhdGllbnQgRW5jb3VudGVyIiBQYXRpZW50RW5jb3VudGVyDQogICAgICAgIHN1Y2ggdGhhdCBUaGlyZFRyaW1lc3RlckVuY291bnRlci5pZCA9IFBhdGllbnRFbmNvdW50ZXIuaWQNCiAgKSBpcyBub3QgbnVsbA0KDQpkZWZpbmUgIlBhdGllbnQgaXMgSGlnaCBSaXNrIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiOg0KICAiUGF0aWVudCBpcyBhdCBIaWdoIFJpc2sgZm9yIEhJViINCiAgYW5kICJQYXRpZW50IGlzIGluIFRoaXJkIFRyaW1lc3RlciBvZiBQcmVnbmFuY3kiDQoNCg0KLyogTVNNIChNZW4gd2hvIGhhdmUgc2V4IHdpdGggbWVuKSAqLw0KLy8gQXQgTGVhc3QgQW5udWFsbHkgZm9yIHNleHVhbGx5IGFjdGl2ZSBNU00gaWYgSElWIHN0YXR1cyBpc24ndCBwb3NpdGl2ZSBhbmQgaWYgcGF0aWVudC9wYXJ0bmVyIGhhcyBoYWQgbW9yZSB0aGFuIDEgcGFydG5lciBzaW5jZSBwcmV2aW91cyBzY3JlZW5pbmcNCi8vIEZvciBzZXh1YWxseSBhY3RpdmUgTVNNIFRlc3RzIHNob3VsZCBvY2N1ciBldmVyeSAzIG1vbnRocyBpZiB0aGUgcGF0aWVudCBoYXMgZXhwZXJpZW5jZWQgcHJlcA0KZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aXRob3V0IEhJViI6DQogICJTZXh1YWxseSBBY3RpdmUgTVNNIFBhdGllbnQiDQogIGFuZCAiQWN0aXZlIERpYWdub3NpcyBvZiBISVYgRHVyaW5nIFBhdGllbnQgVmlzaXQiIGlzIG51bGwNCg0KZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aXRoIE11bHRpcGxlIFNleCBQYXJ0bmVycyI6DQogICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aXRob3V0IEhJViINCiAgYW5kICJQYXRpZW50IGlzIGF0IEhpZ2ggUmlzayBEdWUgdG8gTXVsdGlwbGUgU2V4IFBhcnRuZXJzIHNpbmNlIGxhc3Qgc2NyZWVuaW5nIg0KDQpkZWZpbmUgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdobyBzaG91bGQgYmUgU2NyZWVuZWQgQW5udWFsbHkiOg0KICAiUGF0aWVudCBpcyBhIFNleHVhbGx5IEFjdGl2ZSBNU00gd2l0aCBNdWx0aXBsZSBTZXggUGFydG5lcnMiDQogIGFuZCAiT3ZlciBhIFllYXIgaGFzIFBhc3QgU2luY2UgUHJldmlvdXMgSElWIFNjcmVlbmluZyINCg0KZGVmaW5lICJQYXRpZW50IGlzIGEgU2V4dWFsbHkgQWN0aXZlIE1TTSB3aG8gc2hvdWxkIGJlIFNjcmVlbmVkIEV2ZXJ5IDMgTW9udGhzIjoNCiAgIlBhdGllbnQgaXMgYSBTZXh1YWxseSBBY3RpdmUgTVNNIHdpdGhvdXQgSElWIg0KICBhbmQgIlBhdGllbnQgaGFzIFJlY2VpdmVkIFByZSBFeHBvc3VyZSBQcm9waHlsYXhpcyINCiAgYW5kICJPdmVyIDMgTW9udGhzIGhhcyBQYXN0IFNpbmNlIFByZXZpb3VzIEhJViBTY3JlZW5pbmciDQoNCg0KLyogRHJ1ZyBBYnVzZSBTY3JlbmluZyBUZXN0IChEQVNULTEwKSBRdWVzdGlvbm5haXJlICovDQovLyBTY29yZSBhY3F1aXJlZCBlaXRoZXIgYnkgdGFsbHlpbmcgY29kZXMgZm9yIERBU1QtMTAgcXVlc3Rpb25zIG9yIGJ5IHRoZSB2YWx1ZSBmaWVsZCBvZiBEQVNULTEwIFF1ZXN0aW9ubmFpcmUgb3IgcmVzdWx0IGNvZGVzDQovLyBIaWdoIFJpc2s6ID49IDYNCi8vIE5vcm1hbCBSaXNrOiAzIC0gNQ0KLy8gTG93IFJpc2s6IDEgLSAyDQovLyBObyBSaXNrOiAwDQoNCmRlZmluZSAiREFTVCAxMCBSZXN1bHQgU2NvcmUiOg0KICBOQy5Nb3N0UmVjZW50KEhERS4iREFTVCAxMCBTY29yZSIpLnZhbHVlIGFzIGludGVnZXINCg0KZGVmaW5lICJBbGwgREFTVCAxMCBRdWVzdGlvbnMiOg0KICB7DQogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMSIpLA0KICAgIE5DLk1vc3RSZWNlbnQoSERFLiJEQVNUIDEwIFF1ZXN0aW9uIDIiKSwNCiAgICBOQy5Nb3N0UmVjZW50KEhERS4iREFTVCAxMCBRdWVzdGlvbiAzIiksDQogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNCIpLA0KICAgIE5DLk1vc3RSZWNlbnQoSERFLiJEQVNUIDEwIFF1ZXN0aW9uIDUiKSwNCiAgICBOQy5Nb3N0UmVjZW50KEhERS4iREFTVCAxMCBRdWVzdGlvbiA2IiksDQogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gNyIpLA0KICAgIE5DLk1vc3RSZWNlbnQoSERFLiJEQVNUIDEwIFF1ZXN0aW9uIDgiKSwNCiAgICBOQy5Nb3N0UmVjZW50KEhERS4iREFTVCAxMCBRdWVzdGlvbiA5IiksDQogICAgTkMuTW9zdFJlY2VudChIREUuIkRBU1QgMTAgUXVlc3Rpb24gMTAiKQ0KICB9DQoNCmRlZmluZSAiTGF0ZXN0IERBU1QgMTAgUXVlc3Rpb25zIERhdGUiOg0KICBkYXRlIGZyb20gc3RhcnQgb2YgRkMuVG9JbnRlcnZhbChOQy5Nb3N0UmVjZW50KCJBbGwgREFTVCAxMCBRdWVzdGlvbnMiKS5lZmZlY3RpdmUpDQoNCmRlZmluZSAiREFTVCAxMCBRdWVzdGlvbnMgU2NvcmUiOg0KICBDb3VudCgNCiAgICAiQWxsIERBU1QgMTAgUXVlc3Rpb25zIiBxdWVzdGlvbg0KICAgICAgd2hlcmUgcXVlc3Rpb24udmFsdWUgYXMgYm9vbGVhbiBpcyB0cnVlDQogICkNCg0KZGVmaW5lICJMYXRlc3QgREFTVCAxMCBTY3JlZW5pbmcgRGF0ZSI6DQogIGRhdGUgZnJvbSBzdGFydCBvZiBGQy5Ub0ludGVydmFsKE5DLk1vc3RSZWNlbnQoDQogICAgSERFLiJEQVNUIDEwIFNjb3JlIg0KICAgICAgdW5pb24gIkFsbCBEQVNUIDEwIFF1ZXN0aW9ucyINCiAgKS5lZmZlY3RpdmUpDQoNCi8vIlBhdGllbnQgaXMgYXQgSGlnaCBSaXNrIER1ZSB0byBhIFNURCINCmRlZmluZSAiUGF0aWVudCBIYXMgSGlnaCBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIjoNCiAgKCJEQVNUIDEwIFJlc3VsdCBTY29yZSIgaW4gIkRBU1QgMTAgSGlnaCBSaXNrIFNjb3JlIikNCiAgb3INCiAgKCJEQVNUIDEwIFF1ZXN0aW9ucyBTY29yZSIgaW4gIkRBU1QgMTAgSGlnaCBSaXNrIFNjb3JlIikNCg0KZGVmaW5lICJQYXRpZW50IEhhcyBNb2RlcmF0ZSBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIjoNCiAgKCJEQVNUIDEwIFJlc3VsdCBTY29yZSIgaW4gIkRBU1QgMTAgTW9kZXJhdGUgUmlzayBTY29yZSIpDQogIG9yDQogICgiREFTVCAxMCBRdWVzdGlvbnMgU2NvcmUiIGluICJEQVNUIDEwIE1vZGVyYXRlIFJpc2sgU2NvcmUiKQ0KDQpkZWZpbmUgIlBhdGllbnQgSGFzIExvdyBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIjoNCiAgKCJEQVNUIDEwIFJlc3VsdCBTY29yZSIgaW4gIkRBU1QgMTAgTG93IFJpc2sgU2NvcmUiKQ0KICBvcg0KICAoIkRBU1QgMTAgUXVlc3Rpb25zIFNjb3JlIiBpbiAiREFTVCAxMCBMb3cgUmlzayBTY29yZSIpDQoNCmRlZmluZSAiUGF0aWVudCBIYXMgTG93IFRvIE1vZGVyYXRlIERlZ3JlZSBPZiBQcm9ibGVtcyBSZWxhdGVkIFRvIERydWcgQWJ1c2UiOg0KICAiUGF0aWVudCBIYXMgTG93IERlZ3JlZSBPZiBQcm9ibGVtcyBSZWxhdGVkIFRvIERydWcgQWJ1c2UiDQogIG9yDQogICJQYXRpZW50IEhhcyBNb2RlcmF0ZSBEZWdyZWUgT2YgUHJvYmxlbXMgUmVsYXRlZCBUbyBEcnVnIEFidXNlIg0KDQpkZWZpbmUgIlBhdGllbnQgSGFzIE5vIFByb2JsZW1zIFJlbGF0ZWQgVG8gRHJ1ZyBBYnVzZSI6DQogICgiREFTVCAxMCBSZXN1bHQgU2NvcmUiIGluICJEQVNUIDEwIE5vIFJpc2sgU2NvcmUiKQ0KICBvcg0KICAoIkRBU1QgMTAgUXVlc3Rpb25zIFNjb3JlIiBpcyBudWxsKQ0KDQpkZWZpbmUgIlBhdGllbnQgTm90IFNjcmVlbmVkIEZvciBEcnVnIEFidXNlIE9yIFNjcmVlbmluZyBFeHBpcmVkIjoNCiAgKCJMYXRlc3QgREFTVCAxMCBTY3JlZW5pbmcgRGF0ZSIgaXMgbnVsbCkNCiAgb3INCiAgKGRpZmZlcmVuY2UgaW4geWVhcnMgYmV0d2VlbiAiTGF0ZXN0IERBU1QgMTAgU2NyZWVuaW5nIERhdGUiIGFuZCBUb2RheSgpID49IDEpDQoNCmRlZmluZSAiREFTVCAxMCBIaWdoIFJpc2sgU2NvcmUiOg0KICBJbnRlcnZhbFs2LDEwXQ0KDQpkZWZpbmUgIkRBU1QgMTAgTW9kZXJhdGUgUmlzayBTY29yZSI6DQogIEludGVydmFsWzMsNV0NCg0KZGVmaW5lICJEQVNUIDEwIExvdyBSaXNrIFNjb3JlIjoNCiAgSW50ZXJ2YWxbMSwyXQ0KDQpkZWZpbmUgIkRBU1QgMTAgTm8gUmlzayBTY29yZSI6DQogIEludGVydmFsWzAsMF0NCg=="
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Library/HIVScreening"
    }
  } ]
}